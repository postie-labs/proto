syntax = "proto3";

package postie.v1.client;

option go_package = "github.com/postie-labs/proto/postie/v1/client";

message MsgCapsule {
  Msg msg = 1;
  Signature signature = 2;
}

message Msg {
  MsgType type = 1;
  bytes data = 2;
  map<string, bytes> metadata = 3;
}

enum MsgType {
  MSG_TYPE_UNSPECIFIED = 0;
  MSG_TYPE_HELLO = 1;
  MSG_TYPE_HELLO_ACK = 2;
  MSG_TYPE_SEND = 3;
  MSG_TYPE_SEND_ACK = 4;
  MSG_TYPE_READ = 5;
  MSG_TYPE_READ_ACK = 6;
}

message Signature {
  bytes pub_key = 1;
  bytes sig_bytes = 2;
}
